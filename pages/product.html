<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <title>Products Display</title>
  </head>
  <body>
    <div id="main-container">
      <nav
        class="navbar navbar-expand-lg navbar-light bg-light"
        style="position: sticky; top: 0; z-index: 1"
      >
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Navbar</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Service</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Contact</a>
              </li>
            </ul>
            <form class="d-flex">
              <input
                class="form-control me-2"
                type="search"
                placeholder="Search"
                aria-label="Search"
              />
              <button class="btn btn-outline-success" type="submit">
                Search
              </button>
              <button class="btn btn-outline-primary ms-2">Logout</button>
            </form>
          </div>
        </div>
      </nav>
      <div class="container mt-5" id="container"></div>
    </div>

    <script>
      const getProducts = async () => {
        const response = await fetch("https://dummyjson.com/products");
        const { products } = await response.json();
        //console.log(products);

        for (let product of products) {
          console.log(product);

          const container = document.getElementById("container");
          container.classList.add(
            "d-flex",
            "flex-wrap",

            "gap-5"
          );

          const card = document.createElement("div");
          card.style.width = "22%";
          card.style.height = "400px";
          card.className = "card";

          const cardHeader = document.createElement("div");
          cardHeader.className = "card-header h-75";

          const cardImg = document.createElement("img");
          cardImg.src = product.thumbnail;
          cardImg.className = "w-100 h-100";

          cardHeader.append(cardImg);
          card.append(cardHeader);

          const cardBody = document.createElement("div");

          const cardTitle = document.createElement("h5");
          cardTitle.innerText =
            product.title.length > 15
              ? product.title.slice(0, 14) + "..."
              : product.title;
          cardTitle.className = "text-center";

          const cardP = document.createElement("p");
          cardP.innerText =
            product.description.length > 30
              ? product.description.slice(0, 29) + "...."
              : product.description;
          cardP.className = "text-center";

          card.append(cardBody);
          cardBody.append(cardTitle);
          cardBody.append(cardP);

          const cardFooter = document.createElement("div");

          const viewBtn = document.createElement("button");
          viewBtn.innerText = "View Details";
          viewBtn.className = "btn btn-outline-primary btn-sm m-2";

          const editBtn = document.createElement("button");
          editBtn.innerText = "Edit Detail";
          editBtn.className = "btn btn-outline-success btn-sm m-2";

          const deleteBtn = document.createElement("button");
          deleteBtn.innerText = "Delete";
          deleteBtn.className = "btn btn-outline-danger btn-sm m-2";

          card.append(cardFooter);
          cardFooter.append(viewBtn);
          cardFooter.append(editBtn);
          cardFooter.append(deleteBtn);
          container.append(card);
        }
      };

      getProducts();
    </script>
  </body>
</html>
